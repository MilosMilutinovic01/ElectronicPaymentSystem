1732537707750|3|statement|alter table if exists client_methods drop constraint if exists FK9w1ouls7fe7hsgutkvqq0vx19
1732537707752|1|statement|alter table if exists client_methods drop constraint if exists FKm66rj7t9jar2j07cb2fu14kxc
1732537707753|1|statement|alter table if exists clients drop constraint if exists FKckg7aj1rt9scui5ik5tr93d0
1732537707759|5|statement|drop table if exists client_methods cascade
1732537707764|4|statement|drop table if exists clients cascade
1732537707768|3|statement|drop table if exists payment_methods cascade
1732537707772|4|statement|drop table if exists users cascade
1732537707786|8|statement|create table client_methods (client_id uuid, id uuid not null, method_id uuid, primary key (id))
1732537707794|7|statement|create table clients (client_id uuid not null, merchant_password varchar(255), primary key (client_id))
1732537707803|8|statement|create table payment_methods (id uuid not null, name varchar(255), primary key (id), unique (name))
1732537707819|13|statement|create table users (role smallint check (role between 0 and 1), id uuid not null, name varchar(255), password varchar(255), username varchar(255), primary key (id), unique (username))
1732537707824|3|statement|alter table if exists client_methods add constraint FK9w1ouls7fe7hsgutkvqq0vx19 foreign key (client_id) references users (id)
1732537707827|2|statement|alter table if exists client_methods add constraint FKm66rj7t9jar2j07cb2fu14kxc foreign key (method_id) references payment_methods
1732537707829|1|statement|alter table if exists clients add constraint FKckg7aj1rt9scui5ik5tr93d0 foreign key (client_id) references users
1732537708689|2|statement|INSERT INTO payment_methods (id,name) VALUES ('e72e4147-c7f5-40b4-b18f-3ae2a1c2b087'::uuid,'Card'), ('8511c0a3-fdf1-4027-9745-89d13682536d'::uuid,'QR Code'), ('d0e0a4e3-1274-4b7d-abff-567feb20a9cc'::uuid,'PayPal'), ('748bbc5b-bb67-4af4-97a8-5fbd3e791f4b'::uuid,'Bitcoin')
1732537759354|13|statement|select c1_0.client_id,c1_1.name,c1_1.password,c1_1.role,c1_1.username,c1_1.id,c1_0.merchant_password from clients c1_0 join users c1_1 on c1_0.client_id=c1_1.id where c1_0.merchant_password='QgvDCAdmGtv1Yahg'
1732537803931|2|statement|select pm1_0.id,pm1_0.name from payment_methods pm1_0
1732537803994|1|statement|select sm1_0.method_id,sm1_0.id,c1_0.client_id,c1_1.name,c1_1.password,c1_1.role,c1_1.username,c1_1.id,c1_0.merchant_password from client_methods sm1_0 left join (clients c1_0 join users c1_1 on c1_0.client_id=c1_1.id) on c1_1.id=sm1_0.client_id where sm1_0.method_id='748bbc5b-bb67-4af4-97a8-5fbd3e791f4b'
1732537803997|1|statement|select sm1_0.method_id,sm1_0.id,c1_0.client_id,c1_1.name,c1_1.password,c1_1.role,c1_1.username,c1_1.id,c1_0.merchant_password from client_methods sm1_0 left join (clients c1_0 join users c1_1 on c1_0.client_id=c1_1.id) on c1_1.id=sm1_0.client_id where sm1_0.method_id='d0e0a4e3-1274-4b7d-abff-567feb20a9cc'
1732537803999|0|statement|select sm1_0.method_id,sm1_0.id,c1_0.client_id,c1_1.name,c1_1.password,c1_1.role,c1_1.username,c1_1.id,c1_0.merchant_password from client_methods sm1_0 left join (clients c1_0 join users c1_1 on c1_0.client_id=c1_1.id) on c1_1.id=sm1_0.client_id where sm1_0.method_id='8511c0a3-fdf1-4027-9745-89d13682536d'
1732537804001|1|statement|select sm1_0.method_id,sm1_0.id,c1_0.client_id,c1_1.name,c1_1.password,c1_1.role,c1_1.username,c1_1.id,c1_0.merchant_password from client_methods sm1_0 left join (clients c1_0 join users c1_1 on c1_0.client_id=c1_1.id) on c1_1.id=sm1_0.client_id where sm1_0.method_id='e72e4147-c7f5-40b4-b18f-3ae2a1c2b087'
1732537804005|1|commit|
1732537810695|1|statement|select u1_0.id,case when u1_1.client_id is not null then 1 when u1_0.id is not null then 0 end,u1_0.name,u1_0.password,u1_0.role,u1_0.username,u1_1.merchant_password from users u1_0 left join clients u1_1 on u1_0.id=u1_1.client_id where u1_0.username='j'
1732537811067|1|statement|insert into users (name,password,role,username,id) values ('j','$2a$10$02cQu.mF90iYCdR2EaKvQusRBV4l85znTNm38QOncbiQcfGtA.IyK',0,'j','14b8deba-6e1b-4e48-a94e-09a48083559b')
1732537811069|0|statement|insert into clients (merchant_password,client_id) values (NULL,'14b8deba-6e1b-4e48-a94e-09a48083559b')
1732537811074|0|commit|
1732537811078|0|statement|select pm1_0.id,pm1_0.name from payment_methods pm1_0 where pm1_0.name='Card'
1732537811081|0|statement|select sm1_0.method_id,sm1_0.id,c1_0.client_id,c1_1.name,c1_1.password,c1_1.role,c1_1.username,c1_1.id,c1_0.merchant_password from client_methods sm1_0 left join (clients c1_0 join users c1_1 on c1_0.client_id=c1_1.id) on c1_1.id=sm1_0.client_id where sm1_0.method_id='e72e4147-c7f5-40b4-b18f-3ae2a1c2b087'
1732537811086|0|statement|select pm1_0.id,pm1_0.name from payment_methods pm1_0 where pm1_0.name='QR Code'
1732537811088|0|statement|select sm1_0.method_id,sm1_0.id,c1_0.client_id,c1_1.name,c1_1.password,c1_1.role,c1_1.username,c1_1.id,c1_0.merchant_password from client_methods sm1_0 left join (clients c1_0 join users c1_1 on c1_0.client_id=c1_1.id) on c1_1.id=sm1_0.client_id where sm1_0.method_id='8511c0a3-fdf1-4027-9745-89d13682536d'
1732537811104|1|statement|insert into client_methods (client_id,method_id,id) values ('14b8deba-6e1b-4e48-a94e-09a48083559b','e72e4147-c7f5-40b4-b18f-3ae2a1c2b087','70238a71-e126-4612-8c8e-198d6468f03c')
1732537811106|0|statement|insert into client_methods (client_id,method_id,id) values ('14b8deba-6e1b-4e48-a94e-09a48083559b','8511c0a3-fdf1-4027-9745-89d13682536d','181a07d1-8187-40e3-9de8-5ba9fe94b7f7')
1732537811107|0|commit|
1732537811125|0|statement|update clients set merchant_password='Ujuz4JQmMqlDQDYi' where client_id='14b8deba-6e1b-4e48-a94e-09a48083559b'
1732537811129|0|commit|
1732537839328|0|statement|select c1_0.client_id,c1_1.name,c1_1.password,c1_1.role,c1_1.username,c1_1.id,c1_0.merchant_password from clients c1_0 join users c1_1 on c1_0.client_id=c1_1.id where c1_0.merchant_password='Ujuz4JQmMqlDQDYi'
1732537839336|1|statement|select sm1_0.client_id,sm1_0.id,m1_0.id,m1_0.name from client_methods sm1_0 left join payment_methods m1_0 on m1_0.id=sm1_0.method_id where sm1_0.client_id='14b8deba-6e1b-4e48-a94e-09a48083559b'
1732537839343|1|statement|select c1_0.client_id,c1_1.name,c1_1.password,c1_1.role,c1_1.username,c1_1.id,c1_0.merchant_password,sm1_0.client_id,sm1_0.id,m1_0.id,m1_0.name from clients c1_0 join users c1_1 on c1_0.client_id=c1_1.id left join client_methods sm1_0 on c1_1.id=sm1_0.client_id left join payment_methods m1_0 on m1_0.id=sm1_0.method_id where c1_1.id='14b8deba-6e1b-4e48-a94e-09a48083559b'
1732537839346|0|statement|select sm1_0.client_id,sm1_0.id,m1_0.id,m1_0.name from client_methods sm1_0 left join payment_methods m1_0 on m1_0.id=sm1_0.method_id where sm1_0.client_id='14b8deba-6e1b-4e48-a94e-09a48083559b'
1732537839348|0|statement|select sm1_0.method_id,sm1_0.id,c1_0.client_id,c1_1.name,c1_1.password,c1_1.role,c1_1.username,c1_1.id,c1_0.merchant_password from client_methods sm1_0 left join (clients c1_0 join users c1_1 on c1_0.client_id=c1_1.id) on c1_1.id=sm1_0.client_id where sm1_0.method_id='e72e4147-c7f5-40b4-b18f-3ae2a1c2b087'
1732537839356|5|statement|select sm1_0.method_id,sm1_0.id,c1_0.client_id,c1_1.name,c1_1.password,c1_1.role,c1_1.username,c1_1.id,c1_0.merchant_password from client_methods sm1_0 left join (clients c1_0 join users c1_1 on c1_0.client_id=c1_1.id) on c1_1.id=sm1_0.client_id where sm1_0.method_id='e72e4147-c7f5-40b4-b18f-3ae2a1c2b087'
1732537839359|1|statement|select sm1_0.method_id,sm1_0.id,c1_0.client_id,c1_1.name,c1_1.password,c1_1.role,c1_1.username,c1_1.id,c1_0.merchant_password from client_methods sm1_0 left join (clients c1_0 join users c1_1 on c1_0.client_id=c1_1.id) on c1_1.id=sm1_0.client_id where sm1_0.method_id='8511c0a3-fdf1-4027-9745-89d13682536d'
1732537839361|0|statement|select sm1_0.method_id,sm1_0.id,c1_0.client_id,c1_1.name,c1_1.password,c1_1.role,c1_1.username,c1_1.id,c1_0.merchant_password from client_methods sm1_0 left join (clients c1_0 join users c1_1 on c1_0.client_id=c1_1.id) on c1_1.id=sm1_0.client_id where sm1_0.method_id='8511c0a3-fdf1-4027-9745-89d13682536d'
1732537839369|0|statement|select cm1_0.id,cm1_0.client_id,cm1_0.method_id from client_methods cm1_0 where cm1_0.client_id='14b8deba-6e1b-4e48-a94e-09a48083559b'
1732537896852|0|statement|select pm1_0.id,pm1_0.name from payment_methods pm1_0
1732537896858|1|statement|select sm1_0.method_id,sm1_0.id,c1_0.client_id,c1_1.name,c1_1.password,c1_1.role,c1_1.username,c1_1.id,c1_0.merchant_password from client_methods sm1_0 left join (clients c1_0 join users c1_1 on c1_0.client_id=c1_1.id) on c1_1.id=sm1_0.client_id where sm1_0.method_id='748bbc5b-bb67-4af4-97a8-5fbd3e791f4b'
1732537896859|0|statement|select sm1_0.method_id,sm1_0.id,c1_0.client_id,c1_1.name,c1_1.password,c1_1.role,c1_1.username,c1_1.id,c1_0.merchant_password from client_methods sm1_0 left join (clients c1_0 join users c1_1 on c1_0.client_id=c1_1.id) on c1_1.id=sm1_0.client_id where sm1_0.method_id='d0e0a4e3-1274-4b7d-abff-567feb20a9cc'
1732537896861|0|statement|select sm1_0.method_id,sm1_0.id,c1_0.client_id,c1_1.name,c1_1.password,c1_1.role,c1_1.username,c1_1.id,c1_0.merchant_password from client_methods sm1_0 left join (clients c1_0 join users c1_1 on c1_0.client_id=c1_1.id) on c1_1.id=sm1_0.client_id where sm1_0.method_id='8511c0a3-fdf1-4027-9745-89d13682536d'
1732537896863|0|statement|select sm1_0.client_id,sm1_0.id,m1_0.id,m1_0.name from client_methods sm1_0 left join payment_methods m1_0 on m1_0.id=sm1_0.method_id where sm1_0.client_id='14b8deba-6e1b-4e48-a94e-09a48083559b'
1732537896866|1|statement|select c1_0.client_id,c1_1.name,c1_1.password,c1_1.role,c1_1.username,c1_1.id,c1_0.merchant_password,sm1_0.client_id,sm1_0.id,m1_0.id,m1_0.name from clients c1_0 join users c1_1 on c1_0.client_id=c1_1.id left join client_methods sm1_0 on c1_1.id=sm1_0.client_id left join payment_methods m1_0 on m1_0.id=sm1_0.method_id where c1_1.id='14b8deba-6e1b-4e48-a94e-09a48083559b'
1732537896870|0|statement|select sm1_0.client_id,sm1_0.id,m1_0.id,m1_0.name from client_methods sm1_0 left join payment_methods m1_0 on m1_0.id=sm1_0.method_id where sm1_0.client_id='14b8deba-6e1b-4e48-a94e-09a48083559b'
1732537896874|1|statement|select sm1_0.method_id,sm1_0.id,c1_0.client_id,c1_1.name,c1_1.password,c1_1.role,c1_1.username,c1_1.id,c1_0.merchant_password from client_methods sm1_0 left join (clients c1_0 join users c1_1 on c1_0.client_id=c1_1.id) on c1_1.id=sm1_0.client_id where sm1_0.method_id='e72e4147-c7f5-40b4-b18f-3ae2a1c2b087'
1732537896877|0|statement|select sm1_0.method_id,sm1_0.id,c1_0.client_id,c1_1.name,c1_1.password,c1_1.role,c1_1.username,c1_1.id,c1_0.merchant_password from client_methods sm1_0 left join (clients c1_0 join users c1_1 on c1_0.client_id=c1_1.id) on c1_1.id=sm1_0.client_id where sm1_0.method_id='e72e4147-c7f5-40b4-b18f-3ae2a1c2b087'
1732537896880|0|statement|select sm1_0.method_id,sm1_0.id,c1_0.client_id,c1_1.name,c1_1.password,c1_1.role,c1_1.username,c1_1.id,c1_0.merchant_password from client_methods sm1_0 left join (clients c1_0 join users c1_1 on c1_0.client_id=c1_1.id) on c1_1.id=sm1_0.client_id where sm1_0.method_id='8511c0a3-fdf1-4027-9745-89d13682536d'
1732537896882|0|commit|
